import{d as C,q as b,S as D,x as I,m as o,y as A,z as w,_ as k,c as S,e,A as m,B as f,h as u,C as l,k as P,D as j,F as L,o as H,p as T,i as x}from"./index-d699cdc0.js";import{s as B,h as N,E as $}from"./jspdf.es.min-b630eacc.js";import{e as R}from"./index-eea72723.js";const y=R,V=C({data:()=>({authHeader:b(),valid:!1,uploadIsLoading:!1,teacherId:null,imgStr:"",info:{},scoreList:[],feeList:[],nameRules:[],emailRules:[],essayList:[],editedItem:{}}),async created(){let t=await D(this.teacherId);this.info=t.data.info,this.teacherId=this.info.teacherId,t=await I("photo/"+this.info.name+this.info.num+".jpg"),this.imgStr=t.data},mounted(){const t=document.getElementById("mylog");document.getElementById("mylog").addEventListener("click",()=>{B.isEnabled&&B.request(t)})},computed:{},methods:{async uploadFile(){const t=document.querySelector("#file");if(t.files==null||t.files.length==0){o(this,"请选择文件！");return}(await A("photo/"+this.info.personId+".jpg",t.files[0])).code===0?o(this,"上传成功"):o(this,"上传失败")},downloadPdf(){const t=w("/api/student/getTeacherIntroduceItextPdf",this.info.num+".pdf",{teacherId:this.teacherId});console.log(t)},onSuccess(t){t.code==0?o(this,"上传成功！"):o(this,t.msg)},htmlToPDF:async(t,a="报表",_="#fff")=>{let h=document.getElementById(t);h.style.padding="0 10px !important";const n=595.28,p=841.89;let i=await N(h,{scale:2,useCORS:!0,backgroundColor:_}),c=i.width/n*p,d=i.height,g=0,E=n,F=n/i.width*i.height,v=i.toDataURL("image/jpeg",1),r=new $("p","pt","a4");if(d<c)r.addImage(v,"JPEG",0,0,E,F);else for(;d>0;)r.addImage(v,"JPEG",0,g,E,F),d-=c,g-=p,d>0&&r.addPage();r.save(a+".pdf")},drawEcharts(){y.init(document.getElementById("myChartBar")).setOption({title:{text:"日常消费"},tooltip:{},xAxis:{data:this.feeList.map(a=>a.title)},yAxis:{},series:[{name:"消费",type:"bar",data:this.feeList.map(a=>a.value)}]}),y.init(document.getElementById("myChartPie"))}}});const s=t=>(T("data-v-9662824c"),t=t(),x(),t),q={id:"mylog",class:"base",style:{"background-color":"white","background-image":"url('https://i.miji.bid/2023/12/11/5aa93d090ad41d9e9e7e3a122af55a26.png')"}},W={class:"base_header",style:{"background-color":"white"}},G=s(()=>e("div",{class:"blue_column",style:{"background-color":"white"}},null,-1)),J=s(()=>e("div",{class:"base_title"},"个人画像",-1)),O={class:"outer"},U={class:"section1"},z={class:"head"},K=["src"],M={class:"name"},Q={class:"contact"},X={class:"block"},Y=s(()=>e("img",{class:"icon1",referrerpolicy:"no-referrer",src:"https://i.miji.bid/2023/12/10/78ecd946ba4e09e34f873ead5c78ccb6.png"},null,-1)),Z={class:"block"},ee=s(()=>e("img",{class:"icon1",referrerpolicy:"no-referrer",src:"https://i.miji.bid/2023/12/10/14ecf3b6f88df9c1391f1e70a21e83db.png"},null,-1)),te=s(()=>e("div",{class:"block"},[e("img",{class:"icon1",referrerpolicy:"no-referrer",src:"https://i.miji.bid/2023/12/10/84ec409301b1f17eff1b676f68a710ab.png"}),l("https://github.com/")],-1)),se=P('<div class="selfintro" data-v-9662824c><span class="title" data-v-9662824c>自我介绍</span><div class="block" data-v-9662824c><img class="icon2" src="https://i.miji.bid/2023/12/10/98962ca08228979c13d7a4f01d33caec.png" data-v-9662824c>能力项：教学能力、亲和力 </div><p data-v-9662824c>我是山东大学软件学院的一名教师。我对软件开发和计算机科学有着深厚的兴趣和丰富的经验。我热衷于将我所学的知识和经验传授给我的学生们，并与他们一起探索软件的无限可能性。我期待着与你们共同学习，共同进步。</p></div><div class="educatedbg" data-v-9662824c><span class="title" data-v-9662824c>任职经历</span><div style="display:flex;flex-direction:row;" data-v-9662824c><div class="inner1" data-v-9662824c><p class="bword" data-v-9662824c>山东大学<br data-v-9662824c></p>软件工程 <div class="greyword" data-v-9662824c>博士生导师</div></div><div class="inner1" data-v-9662824c><p class="greyword" data-v-9662824c>2022.09~至今</p></div></div></div>',2),ue={class:"section2"},ae={class:"moredetails"},ie=s(()=>e("span",{class:"title"},"更多信息",-1)),de={class:"content"},oe=s(()=>e("td",null,"学工号",-1)),le=s(()=>e("td",null,"学院",-1)),ne=s(()=>e("td",null,"职称",-1)),ce=s(()=>e("td",null,"学位",-1)),re=s(()=>e("td",null,"证件号码",-1)),he=s(()=>e("td",null,"性别",-1)),pe=s(()=>e("td",null,"出生日期",-1)),me=s(()=>e("td",null,"邮箱",-1)),fe=s(()=>e("td",null,"研究方向",-1)),_e=s(()=>e("td",null,"讲授课程",-1)),ge=s(()=>e("td",null,"地址",-1)),Ee={colspan:"3"},Fe=s(()=>e("div",{class:"chart"},[e("div",{style:{width:"100%"}},[e("div",{id:"myChartBar",style:{width:"200px",height:"300px"}}),e("div",{id:"myChartPie",style:{width:"350px",height:"300px"}})])],-1));function ve(t,a,_,h,n,p){const i=j,c=L;return H(),S("div",q,[e("div",W,[G,J,e("div",null,[m(c,{style:{display:"inline-block","margin-left":"5px"},headers:t.authHeader,action:"/api/student/importFeeDataWeb",data:{teacherId:t.teacherId},accept:".xlsx,.xls","show-file-list":!0,limit:1,multiple:!1,"on-success":t.onSuccess},{default:f(()=>[m(i,{class:"spacial"},{default:f(()=>[l("消费记录上传")]),_:1})]),_:1},8,["headers","data","on-success"]),m(i,{style:{"margin-left":"5px"},class:"spacial",onClick:a[0]||(a[0]=d=>t.htmlToPDF("mylog","test pdf"))},{default:f(()=>[l("附件下载")]),_:1})])]),e("div",O,[e("div",U,[e("div",z,[e("img",{class:"headimg",referrerpolicy:"no-referrer",src:t.imgStr,onClick:a[1]||(a[1]=()=>{})},null,8,K),e("span",M,u(t.info.name),1)]),e("div",Q,[e("div",X,[Y,l(u(t.info.phone),1)]),e("div",Z,[ee,l(u(t.info.email),1)]),te]),se]),e("div",ue,[e("div",ae,[ie,e("table",de,[e("tr",null,[oe,e("td",null,u(t.info.num),1),le,e("td",null,u(t.info.dept),1)]),e("tr",null,[ne,e("td",null,u(t.info.title),1),ce,e("td",null,u(t.info.degree),1)]),e("tr",null,[re,e("td",null,u(t.info.card),1),he,e("td",null,u(t.info.genderName),1)]),e("tr",null,[pe,e("td",null,u(t.info.birthday),1),me,e("td",null,u(t.info.email),1)]),e("tr",null,[fe,e("td",null,u(t.info.yan),1),_e,e("td",null,u(t.info.jiang),1)]),e("tr",null,[ge,e("td",Ee,u(t.info.address),1)])])]),Fe])])])}const be=k(V,[["render",ve],["__scopeId","data-v-9662824c"]]);export{be as default};
