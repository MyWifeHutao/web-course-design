import{d as I,I as y,S as D,m as l,J as b,_ as w,c as n,e as t,K as m,L as B,A as o,B as u,M as L,o as r,h as _,C as h,p as C,i as E,R as V,Q as k,D as F}from"./index-d699cdc0.js";import{f as p,h as A,b as $,i as q,c as S}from"./teachingServ-493b57e0.js";/* empty css              *//* empty css                    *//* empty css                  */const N=I({data:()=>({info:{},essayList:[],teacherId:null,courseId:null,editedItem:{},teacherList:[],courseList:[],deleteId:-1,addDialog:y(!1)}),computed:{},async created(){let e=await D(this.teacherId);this.info=e.data.info,this.initialize()},methods:{async initialize(){this.essayList=await p(this.info.teacherId),this.teacherList=await A(),this.courseList=await $()},async query(){this.essayList=await p(this.info.teacherId)},addItem(){this.addDialog=!0,this.editedItem={},document.getElementById("favDialog").show()},close(){this.addDialog=!1},async submit(){const e=await q(this.info.teacherId,this.editedItem);e.code==0?(l(this,"保存成功"),this.query()):alert(e.msg),this.addDialog=!1},async deleteItem(e){if(!await b("确认删除吗?"))return;const d=await S(e);d.code==0?(l(this,"删除成功"),this.query()):l(this,d.msg)}}});const i=e=>(C("data-v-78a947de"),e=e(),E(),e),T={class:"base_form"},U=i(()=>t("div",{class:"base_header"},[t("div",{class:"blue_column"}),t("div",{class:"base_title"},"我的论文著作")],-1)),z={class:"base_query_oneLine"},O={class:"query_left"},J=i(()=>t("div",{class:"query_right"},null,-1)),K={class:"table_center",style:{"margin-top":"5px"}},M={class:"content"},P=i(()=>t("tr",{class:"table_th"},[t("td",null,"发行日期"),t("td",null,"论文著作")],-1)),Q={class:"rowDiv"},R=i(()=>t("div",{class:"headDiv"},"发行日期",-1)),j={class:"rowDiv"},G=i(()=>t("div",{class:"headDiv"},"论文著作",-1)),H={class:"rowDiv"};function W(e,s,d,X,Y,Z){const f=V,g=k,c=F,v=L;return r(),n(m,null,[t("div",T,[U,t("div",z,[t("div",O,[t("button",{class:"commButton",onClick:s[0]||(s[0]=a=>e.addItem())},"添加")]),J]),t("div",K,[t("table",M,[P,(r(!0),n(m,null,B(e.essayList,a=>(r(),n("tr",{key:a.essayId},[t("td",null,_(a.data),1),t("td",null,_(a.book),1)]))),128))])])]),o(v,{class:"dialog",modelValue:e.addDialog,"onUpdate:modelValue":s[5]||(s[5]=a=>e.addDialog=a),title:"添加项目",id:"favDialog",onclose:"close()",style:{width:"20%"},"align-center":""},{default:u(()=>[t("div",Q,[R,o(f,{modelValue:e.editedItem.data,"onUpdate:modelValue":s[1]||(s[1]=a=>e.editedItem.data=a),style:{width:"100%"}},null,8,["modelValue"])]),t("div",j,[G,o(g,{modelValue:e.editedItem.book,"onUpdate:modelValue":s[2]||(s[2]=a=>e.editedItem.book=a),style:{width:"100%"}},null,8,["modelValue"])]),t("div",H,[o(c,{onClick:s[3]||(s[3]=a=>e.close())},{default:u(()=>[h("取消")]),_:1}),o(c,{onClick:s[4]||(s[4]=a=>e.submit())},{default:u(()=>[h("提交")]),_:1})])]),_:1},8,["modelValue"])],64)}const oe=w(N,[["render",W],["__scopeId","data-v-78a947de"]]);export{oe as default};
