import{d as f,U as l,m as a,J as N,_ as v,c as u,e,A as i,B as n,V as y,h as p,w as m,v as h,K as C,D,W as k,o as g,C as r}from"./index-d699cdc0.js";/* empty css             *//* empty css                 */import{c,d as b,e as w}from"./systemServ-7a4496b3.js";const B=f({data:()=>({nodes:[],editedNode:{},currentNode:{},deleteId:-1,dialogTitle:"",defaultProps:{id:"id",children:"children",label:"label"}}),async created(){this.nodes=await c()},methods:{onNodeClick(t){this.currentNode=t},addItemFirst(){this.editedNode={},this.editedNode.pid=null,this.editedNode.parentTitle="",this.dialogTitle="添加字典名对话框",l("favDialog").show()},addItem(){this.editedNode={},this.editedNode.pid=this.currentNode.id,this.editedNode.parentTitle=this.currentNode.title,this.dialogTitle="添加字典项对话框",l("favDialog").show()},editItem(){this.editedNode=this.currentNode,this.dialogTitle="修改菜单对话框",l("favDialog").show()},close(){l("favDialog").close()},async confirm(){this.close();const t=await b(this.editedNode);t.code==0?(a(this,"保存成功"),this.nodes=await c()):a(this,t.msg)},async deleteItem(){if(!await N("确认删除吗?"))return;const o=await w(this.currentNode.id);o.code==0?(a(this,"删除成功"),this.nodes=await c()):a(this,o.msg)}}}),T={class:"base_form"},I=e("div",{class:"base_header"},[e("div",{class:"blue_column"}),e("div",{class:"base_title"},"字典管理")],-1),E={class:"base_query_oneLine"},V={class:"query_left"},F={key:0,style:{"margin-top":"5px"}},$={id:"favDialog",onclose:"close()",style:{position:"absolute",top:"300px",left:"300px",width:"300px",height:"210px"}},x={class:"base_title"},A={class:"dialog-div",style:{"margin-top":"5px"}},U={class:"dialog-content"},q=e("td",{colspan:"1",style:{"text-align":"right"}},"字典名",-1),L={colspan:"1"},M=e("td",{colspan:"1",style:{"text-align":"right"}},"数据值",-1),P={colspan:"1"},S=e("td",{colspan:"1",style:{"text-align":"right"}},"数据标题",-1),J={colspan:"1"},K={colspan:"2"};function W(t,o,j,z,G,H){const d=D,_=k;return g(),u(C,null,[e("div",T,[I,e("div",E,[e("div",V,[i(d,{color:"#96282d",style:{"margin-left":"5px"},onClick:t.addItemFirst},{default:n(()=>[r(" 添加数据项名 ")]),_:1},8,["onClick"]),i(d,{color:"#96282d",style:{"margin-left":"5px"},onClick:t.addItem},{default:n(()=>[r(" 添加数据项 ")]),_:1},8,["onClick"]),i(d,{color:"#96282d",style:{"margin-left":"5px"},onClick:t.editItem},{default:n(()=>[r(" 修改 ")]),_:1},8,["onClick"]),i(d,{color:"#96282d",style:{"margin-left":"5px"},onClick:t.deleteItem},{default:n(()=>[r(" 删除 ")]),_:1},8,["onClick"])])]),t.nodes!==null?(g(),u("div",F,[i(_,{data:t.nodes,props:t.defaultProps,accordion:"",onNodeClick:t.onNodeClick},null,8,["data","props","onNodeClick"])])):y("",!0)]),e("dialog",$,[e("div",x,p(t.dialogTitle),1),e("div",A,[e("table",U,[e("tr",null,[q,e("td",L,p(t.editedNode.parentTitle),1)]),e("tr",null,[M,e("td",P,[m(e("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>t.editedNode.value=s),class:"commInput"},null,512),[[h,t.editedNode.value]])])]),e("tr",null,[S,e("td",J,[m(e("input",{"onUpdate:modelValue":o[1]||(o[1]=s=>t.editedNode.title=s),class:"commInput"},null,512),[[h,t.editedNode.title]])])]),e("tr",null,[e("td",K,[e("button",{class:"commButton",onClick:o[2]||(o[2]=s=>t.close()),style:{"margin-right":"30px","margin-left":"80px"}}," 取消 "),e("button",{class:"commButton",onClick:o[3]||(o[3]=s=>t.confirm())},"确认")])])])])])],64)}const Y=v(B,[["render",W]]);export{Y as default};
