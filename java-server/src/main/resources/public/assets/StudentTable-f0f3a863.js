import{d as h,b as c,J as f,m as g,z as w,_ as k,c as C,e as s,A as t,B as l,D as E,Q as y,G as B,X as F,o as D,C as o,h as i,H as v}from"./index-d699cdc0.js";/* empty css              *//* empty css            *//* empty css               *//* empty css                  *//* empty css                     *//* empty css                 */import{g as P,s as I}from"./personServ-4d9e7c3a.js";const N=h({data:()=>({numName:"",dataList:[],pagination:{currentPage:1,pageSize:10,dataTotal:0}}),created(){this.getDataPage()},methods:{doQuery(){this.pagination.currentPage=1,this.getDataPage()},handleChangePage(a){this.pagination.currentPage=a,this.getDataPage()},async getDataPage(){const a=await P(this.numName,this.pagination.currentPage);this.pagination.dataTotal=a.data.dataTotal,this.pagination.pageSize=a.data.pageSize,this.dataList=a.data.dataList},addItem(){c.push({name:"StudentInfo"})},editItem(a){c.push({name:"StudentInfo",query:{studentId:a}})},async deleteItem(a){if(!await f("确认删除学生吗?"))return;const d=await I(a);d.code==0?g(this,"删除成功"):g(this,d.msg)},familyMember(a){c.push({name:"FamilyMember",query:{studentId:a}})},async doExport(){await w("/api/student/getStudentListExcl","学生.xlsx",{numName:this.numName})!=200&&g(this,"导出失败！")}}}),S={class:"base_form"},$=s("div",{class:"base_header"},[s("div",{class:"blue_column"}),s("div",{class:"base_title"},"学生管理")],-1),A={class:"base_query_oneLine",style:{width:"97%"}},z={class:"query_left"},T={class:"query_right"},L={class:"table-content"},V={class:"pagin"};function q(a,u,d,x,M,Q){const r=E,p=y,n=v,_=B,b=F;return D(),C("div",S,[$,s("div",A,[s("div",z,[t(r,{color:"#96282d",onClick:u[0]||(u[0]=e=>a.addItem())},{default:l(()=>[o("添加")]),_:1})]),s("div",T,[t(p,{modelValue:a.numName,"onUpdate:modelValue":u[1]||(u[1]=e=>a.numName=e)},{default:l(()=>[o("学号或姓名")]),_:1},8,["modelValue"]),t(r,{color:"#96282d",onClick:u[2]||(u[2]=e=>a.doQuery())},{default:l(()=>[o("查询")]),_:1}),t(r,{color:"#96282d",onClick:u[3]||(u[3]=e=>a.doExport())},{default:l(()=>[o("导出")]),_:1})])]),s("div",L,[t(_,{data:a.dataList,"header-cell-style":{color:"#2E2E2E",fontSize:"10px",fontWeight:"400",background:"rgb(242,242,242)"},"row-style":{height:"10px"},"cell-style":{padding:"2px"},style:{width:"100%"}},{default:l(()=>[t(n,{label:"序号",fixed:"left",width:"50",color:"black"},{default:l(e=>[o(i(e.$index+1),1)]),_:1}),t(n,{label:"学号",color:"black",align:"center",width:"100"},{default:l(e=>[o(i(e.row.num),1)]),_:1}),t(n,{label:"姓名",color:"black",align:"center",width:"100"},{default:l(e=>[o(i(e.row.name),1)]),_:1}),t(n,{label:"院系",color:"black",align:"center",width:"100"},{default:l(e=>[o(i(e.row.dept),1)]),_:1}),t(n,{label:"专业",color:"black",align:"center",width:"100"},{default:l(e=>[o(i(e.row.major),1)]),_:1}),t(n,{label:"班级",color:"black",align:"center",width:"100"},{default:l(e=>[o(i(e.row.className),1)]),_:1}),t(n,{label:"证件号码",color:"black",align:"center",width:"100"},{default:l(e=>[o(i(e.row.card),1)]),_:1}),t(n,{label:"性别",color:"black",align:"center",width:"100"},{default:l(e=>[o(i(e.row.genderName),1)]),_:1}),t(n,{label:"出生日期",color:"black",align:"center"},{default:l(e=>[o(i(e.row.birthday),1)]),_:1}),t(n,{label:"邮箱",color:"black",align:"center"},{default:l(e=>[o(i(e.row.email),1)]),_:1}),t(n,{label:"电话",color:"black",align:"center"},{default:l(e=>[o(i(e.row.phone),1)]),_:1}),t(n,{label:"地址",color:"black",align:"center"},{default:l(e=>[o(i(e.row.address),1)]),_:1}),t(n,{label:"操作",color:"black",align:"center",width:"300"},{default:l(e=>[t(r,{color:"#96282d",onClick:m=>a.editItem(e.row.studentId)},{default:l(()=>[o("基本信息")]),_:2},1032,["onClick"]),t(r,{color:"#96282d",onClick:m=>a.familyMember(e.row.studentId)},{default:l(()=>[o("家庭成员")]),_:2},1032,["onClick"]),t(r,{color:"#96282d",onClick:m=>a.deleteItem(e.row.studentId)},{default:l(()=>[o("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","header-cell-style"])]),s("div",V,[t(b,{background:"",style:{"margin-top":"15px"},total:a.pagination.dataTotal,"current-page":a.pagination.currentPage,"page-size":a.pagination.pageSize,onCurrentChange:a.handleChangePage,layout:"total, prev, pager, next, jumper"},null,8,["total","current-page","page-size","onCurrentChange"])])])}const O=k(N,[["render",q]]);export{O as default};
