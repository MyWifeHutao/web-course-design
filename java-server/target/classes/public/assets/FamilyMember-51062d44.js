import{d as w,m as r,J as g,_ as V,c as h,e as d,A as t,B as o,D as y,G as v,o as _,C as c,h as B,K as k,L as E,N as F,H as C,Q as I,O as L,P as D}from"./index-d699cdc0.js";/* empty css                     *//* empty css                 *//* empty css                  *//* empty css              *//* empty css            *//* empty css               */import{c as $,f as U,d as x}from"./personServ-4d9e7c3a.js";const S=w({data:()=>({genderList:[{value:"1",title:"男"},{value:"2",title:"女"}],studentId:null,dataList:[]}),async created(){const a=this.$route.query.studentId;a!=null&&(this.studentId=parseInt(a.toString())),this.studentId!=null&&(this.dataList=await $(this.studentId))},methods:{addRow(){this.dataList.push({studentId:this.studentId})},async saveItem(a){const u=this.dataList[a],n=await U(u);n.code==0?r(this,"保存成功"):r(this,n.msg)},async deleteItem(a){if(!await g("确认删除当前成员吗?"))return;const n=await x(this.dataList[a].memberId);n.code==0?(r(this,"删除成功"),this.dataList.splice(a,1)):r(this,n.msg)}}}),M={class:"base_form"},N=d("div",{class:"base_header"},[d("div",{class:"blue_column"}),d("div",{class:"base_title"},"学生家庭成员信息")],-1),q={class:"base_query_oneLine"},A={class:"query_left"},T={class:"table-content"};function O(a,u,n,R,z,G){const m=y,s=C,i=I,p=L,f=D,b=v;return _(),h("div",M,[N,d("div",q,[d("div",A,[t(m,{class:"commButton",onClick:u[0]||(u[0]=e=>a.addRow())},{default:o(()=>[c("添加一行")]),_:1})])]),d("div",T,[t(b,{data:a.dataList,"header-cell-style":{color:"#2E2E2E",fontSize:"10px",fontWeight:"400",background:"rgb(242,242,242)"},"row-style":{height:"10px"},"cell-style":{padding:"2px"},style:{width:"100%"}},{default:o(()=>[t(s,{label:"序号",fixed:"left",width:"50",color:"black"},{default:o(e=>[c(B(e.$index+1),1)]),_:1}),t(s,{label:"关系",width:"150",color:"black",align:"center"},{default:o(e=>[t(i,{modelValue:e.row.relation,"onUpdate:modelValue":l=>e.row.relation=l,style:{width:"90%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(s,{label:"姓名",width:"150",color:"black",align:"center"},{default:o(e=>[t(i,{modelValue:e.row.name,"onUpdate:modelValue":l=>e.row.name=l,style:{width:"90%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(s,{label:"性别",width:"150",color:"black",align:"center"},{default:o(e=>[t(f,{modelValue:e.row.gender,"onUpdate:modelValue":l=>e.row.gender=l,placeholder:"请选择性别",style:{width:"90%"}},{default:o(()=>[(_(!0),h(k,null,E(a.genderList,l=>(_(),F(p,{key:l.value,label:l.title,value:l.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),t(s,{label:"年龄",width:"100",color:"black",align:"center"},{default:o(e=>[t(i,{modelValue:e.row.age,"onUpdate:modelValue":l=>e.row.age=l,style:{width:"90%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(s,{label:"单位",width:"150",color:"black",align:"center"},{default:o(e=>[t(i,{modelValue:e.row.unit,"onUpdate:modelValue":l=>e.row.unit=l,style:{width:"90%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(s,{label:"操作",width:"150",color:"black",align:"center"},{default:o(e=>[t(m,{class:"commButton",onClick:l=>a.saveItem(e.$index)},{default:o(()=>[c("保存")]),_:2},1032,["onClick"]),t(m,{class:"commButton",onClick:l=>a.deleteItem(e.$index)},{default:o(()=>[c("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","header-cell-style"])])])}const Y=V(S,[["render",O]]);export{Y as default};
